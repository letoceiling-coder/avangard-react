# üìñ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## üéØ –¶–µ–ª—å
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push origin main`

---

## üìã –í–∞—Ä–∏–∞–Ω—Ç 1: GitHub Actions (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞

**1.1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (PowerShell –Ω–∞ Windows)**

**1.2. –°–æ–∑–¥–∞–π—Ç–µ SSH –∫–ª—é—á:**
```bash
ssh-keygen -t rsa -b 4096 -C "github-actions-deploy"
```

**1.3. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø—É—Ç–∏ –Ω–∞–∂–º–∏—Ç–µ Enter** (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `C:\Users\–í–∞—à–µ–ò–º—è\.ssh\github_deploy_key`)

**1.4. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è –Ω–∞–∂–º–∏—Ç–µ Enter –¥–≤–∞–∂–¥—ã** (–±–µ–∑ –ø–∞—Ä–æ–ª—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Ñ–∞–π–ª–∞:
- `C:\Users\–í–∞—à–µ–ò–º—è\.ssh\github_deploy_key` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á - –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –Ω–∏–∫–æ–º—É!)
- `C:\Users\–í–∞—à–µ–ò–º—è\.ssh\github_deploy_key.pub` (–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á)

---

### –®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**2.1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
```bash
# –í–∞—Ä–∏–∞–Ω—Ç A: –ï—Å–ª–∏ –µ—Å—Ç—å ssh-copy-id
ssh-copy-id -i ~/.ssh/github_deploy_key.pub user@trendagent.siteaccess.ru

# –í–∞—Ä–∏–∞–Ω—Ç B: –í—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ ssh-copy-id –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
notepad C:\Users\–í–∞—à–µ–ò–º—è\.ssh\github_deploy_key.pub

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞)

# 3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@trendagent.siteaccess.ru

# 4. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
mkdir -p ~/.ssh
chmod 700 ~/.ssh
nano ~/.ssh/authorized_keys

# 5. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
# 6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: Ctrl+O, Enter, Ctrl+X

# 7. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞:
chmod 600 ~/.ssh/authorized_keys
```

**2.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
ssh -i ~/.ssh/github_deploy_key user@trendagent.siteaccess.ru
# –î–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ë–ï–ó –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
```

---

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSH –∫–ª—é—á–∞ –≤ GitHub Secrets

**3.1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á:**
```bash
# –í PowerShell
notepad C:\Users\–í–∞—à–µ–ò–º—è\.ssh\github_deploy_key
```

**3.2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞** (–≤–∫–ª—é—á–∞—è `-----BEGIN OPENSSH PRIVATE KEY-----` –∏ `-----END OPENSSH PRIVATE KEY-----`)

**3.3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitHub:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/letoceiling-coder/avangard-react
- –ù–∞–∂–º–∏—Ç–µ: **Settings** (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)
- –í –ª–µ–≤–æ–º –º–µ–Ω—é: **Secrets and variables** ‚Üí **Actions**

**3.4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Å–µ–∫—Ä–µ—Ç:**
- –ù–∞–∂–º–∏—Ç–µ: **New repository secret**
- **Name:** `SSH_PRIVATE_KEY`
- **Secret:** –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
- –ù–∞–∂–º–∏—Ç–µ: **Add secret**

**3.5. –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:**

**–°–µ–∫—Ä–µ—Ç 2:**
- **New repository secret**
- **Name:** `SERVER_HOST`
- **Secret:** `trendagent.siteaccess.ru`
- **Add secret**

**–°–µ–∫—Ä–µ—Ç 3:**
- **New repository secret**
- **Name:** `SERVER_USER`
- **Secret:** –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `user`)
- **Add secret**

**–°–µ–∫—Ä–µ—Ç 4:**
- **New repository secret**
- **Name:** `SERVER_PORT`
- **Secret:** `22` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç SSH, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- **Add secret**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í Secrets –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 4 —Å–µ–∫—Ä–µ—Ç–∞:
- ‚úÖ SSH_PRIVATE_KEY
- ‚úÖ SERVER_HOST
- ‚úÖ SERVER_USER
- ‚úÖ SERVER_PORT

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ workflow —Ñ–∞–π–ª–∞

**4.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: `.github/workflows/deploy.yml`
- –§–∞–π–ª —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**4.2. –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ:**
- –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É: `.github/workflows/`
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª: `deploy.yml`
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —è —Å–æ–∑–¥–∞–ª —Ä–∞–Ω–µ–µ

---

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è

**5.1. –°–¥–µ–ª–∞–π—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**
```bash
# –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –ª—é–±–æ–π —Ñ–∞–π–ª
# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤ README.md
```

**5.2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ:**
```bash
git add .
git commit -m "Test: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è"
git push origin main
```

**5.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ–ø–ª–æ–π:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://github.com/letoceiling-coder/avangard-react
- –ù–∞–∂–º–∏—Ç–µ: **Actions** (–≤–≤–µ—Ä—Ö—É)
- –í—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow "Deploy to Production"
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
- –ó–µ–ª–µ–Ω—ã–π –∑–Ω–∞—á–æ–∫ ‚úÖ = —É—Å–ø–µ—à–Ω–æ
- –ö—Ä–∞—Å–Ω—ã–π –∑–Ω–∞—á–æ–∫ ‚ùå = –æ—à–∏–±–∫–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)

**5.4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: https://trendagent.siteaccess.ru/
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å

---

## üìã –í–∞—Ä–∏–∞–Ω—Ç 2: Webhook (PHP) - –î–ª—è Apache

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**1.1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –ª–æ–∫–∞–ª—å–Ω–æ:**
- –§–∞–π–ª: `scripts/webhook-deploy.php`
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

**1.2. –ò–∑–º–µ–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á:**
```php
// –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
$SECRET = 'your-secret-key-here';

// –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ):
$SECRET = '–≤–∞—à-—Å–ª—É—á–∞–π–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–∑–¥–µ—Å—å';
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞:**
```bash
# –í PowerShell
[Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes([System.Guid]::NewGuid().ToString()))
```

**1.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏:**
```php
$PROJECT_DIR = '/home/user/trendagent.siteaccess.ru/public_html/avangard-react';
$LOG_FILE = '/home/user/deploy.log';
```
–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏.

---

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**2.1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
```bash
# –ß–µ—Ä–µ–∑ SCP (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSH)
scp scripts/webhook-deploy.php user@trendagent.siteaccess.ru:~/trendagent.siteaccess.ru/public_html/

# –ò–ª–∏ —á–µ—Ä–µ–∑ FTP/SFTP –∫–ª–∏–µ–Ω—Ç (FileZilla, WinSCP)
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –≤: ~/trendagent.siteaccess.ru/public_html/webhook-deploy.php
```

**2.2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞:**
```bash
ssh user@trendagent.siteaccess.ru
chmod 755 ~/trendagent.siteaccess.ru/public_html/webhook-deploy.php
chmod 666 ~/deploy.log  # –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –≤ GitHub

**3.1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/letoceiling-coder/avangard-react
- –ù–∞–∂–º–∏—Ç–µ: **Settings**

**3.2. –û—Ç–∫—Ä–æ–π—Ç–µ Webhooks:**
- –í –ª–µ–≤–æ–º –º–µ–Ω—é: **Webhooks**
- –ù–∞–∂–º–∏—Ç–µ: **Add webhook**

**3.3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:**
- **Payload URL:** `https://trendagent.siteaccess.ru/webhook-deploy.php`
- **Content type:** `application/json`
- **Secret:** –≤–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ —à–∞–≥–∞ 1.2
- **Which events would you like to trigger this webhook?**
  - –í—ã–±–µ—Ä–∏—Ç–µ: **Just the push event**
- **Active:** ‚úÖ (–≥–∞–ª–æ—á–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å)
- –ù–∞–∂–º–∏—Ç–µ: **Add webhook**

**3.4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook:**
- GitHub –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
ssh user@trendagent.siteaccess.ru
tail -f ~/deploy.log
```

---

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**4.1. –°–¥–µ–ª–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ –∑–∞–ø—É—à—å—Ç–µ:**
```bash
git add .
git commit -m "Test webhook deploy"
git push origin main
```

**4.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
ssh user@trendagent.siteaccess.ru
tail -20 ~/deploy.log
```

**4.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: https://trendagent.siteaccess.ru/
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å

---

## üìã –í–∞—Ä–∏–∞–Ω—Ç 3: Bash —Å–∫—Ä–∏–ø—Ç (–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π)

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

**1.1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:**
- –§–∞–π–ª: `scripts/deploy.sh`
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

**1.2. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```bash
SERVER_USER="${SERVER_USER:-user}"           # –í–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
SERVER_HOST="${SERVER_HOST:-trendagent.siteaccess.ru}"  # –í–∞—à –¥–æ–º–µ–Ω
```

**1.3. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–Ω–∞ Linux/Mac):**
```bash
chmod +x scripts/deploy.sh
```

**–ù–∞ Windows:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git Bash –∏–ª–∏ WSL

---

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**2.1. –ß–µ—Ä–µ–∑ npm:**
```bash
npm run deploy
```

**2.2. –ù–∞–ø—Ä—è–º—É—é:**
```bash
# –í Git Bash –∏–ª–∏ WSL
./scripts/deploy.sh production
```

**2.3. –° –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
export SERVER_USER="user"
export SERVER_HOST="trendagent.siteaccess.ru"
./scripts/deploy.sh production
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ß–µ–∫–ª–∏—Å—Ç:

- [ ] SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] SSH –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub
- [ ] Workflow —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`.github/workflows/deploy.yml`)
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π push –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] Workflow –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –≤ GitHub Actions
- [ ] –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (–∑–µ–ª–µ–Ω—ã–π –∑–Ω–∞—á–æ–∫)
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã –Ω–∞ —Å–∞–π—Ç–µ

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied (publickey)"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
ssh user@trendagent.siteaccess.ru
cat ~/.ssh/authorized_keys
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞:
```bash
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ Secrets (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω—ã–π –∫–ª—é—á —Å BEGIN/END)

---

### –ü—Ä–æ–±–ª–µ–º–∞: "Host key verification failed"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
ssh-keyscan -H trendagent.siteaccess.ru >> ~/.ssh/known_hosts
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ: `.github/workflows/deploy.yml`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–µ—Ç–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `main` (–Ω–µ `master`)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –î–µ–ø–ª–æ–π –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Actions ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ failed workflow
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
   - –ù–∞–ª–∏—á–∏–µ Node.js –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–æ–≤

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –ü–æ–ª—É—á–∏—Ç–µ chat_id (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É, –∑–∞—Ç–µ–º: `https://api.telegram.org/bot<TOKEN>/getUpdates`)

4. –î–æ–±–∞–≤—å—Ç–µ –≤ workflow:
```yaml
- name: Notify Telegram
  if: always()
  run: |
    curl -X POST "https://api.telegram.org/bot${{ secrets.TELEGRAM_BOT_TOKEN }}/sendMessage" \
      -d "chat_id=${{ secrets.TELEGRAM_CHAT_ID }}&text=–î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω: ${{ job.status }}"
```

---

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–æ–∫

**–î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –∏–∑ main:**
```yaml
on:
  push:
    branches:
      - main
```

**–î–µ–ø–ª–æ–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ç–æ–∫:**
```yaml
on:
  push:
    branches:
      - main
      - develop
```

**–†–∞–∑–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```yaml
- name: Deploy to Production
  if: github.ref == 'refs/heads/main'
  # ... –∫–æ–º–∞–Ω–¥—ã –¥–ª—è production

- name: Deploy to Staging
  if: github.ref == 'refs/heads/develop'
  # ... –∫–æ–º–∞–Ω–¥—ã –¥–ª—è staging
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –ü—Ä–∏ –∫–∞–∂–¥–æ–º `git push origin main` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
- ‚úÖ –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ GitHub Actions
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ git

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å **–í–∞—Ä–∏–∞–Ω—Ç–∞ 1 (GitHub Actions)** - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±.

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `~/deploy.log`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

